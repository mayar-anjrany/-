<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" dir="rtl" />
  <title>حاسبة السعرات والماكروز</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <h1>حاسبة السعرات والماكروز</h1>

  <form id="macro-form">

    <!-- الجنس -->
    <div class="gender">
      <div class="theGender"><label>الجنس:</label></div><br/>
      <input type="radio" name="gender" value="male" id="male" />
      <label for="male">ذكر</label>

      <input type="radio" name="gender" value="female" id="female" />
      <label for="female">أنثى</label>
    </div>

    <!-- الطول -->
    <div class="tall">
      <label for="height">الطول (سم):</label><br />
      <input type="number" id="height" name="height" min="50" max="300" required />
    </div>

    <!-- الوزن -->
    <div class="wieght">
      <label for="weight">الوزن (كغ):</label><br />
      <input type="number" id="weight" name="weight" min="10" max="500" required />
    </div>

    <!-- العمر -->
    <div class="age">
      <label for="age">العمر:</label><br />
      <input type="number" id="age" name="age" min="5" max="120" required />
    </div>

    <!-- النشاط -->
    <div class="activity">
      <label for="activity">مستوى النشاط اليومي:</label><br />
      <select id="activity" name="activity" required>
        <option value="">اختر مستوى النشاط</option>
        <option value="1.2">خامل (قليل الحركة، لا تمارين)</option>
        <option value="1.375">نشاط خفيف (تمارين خفيفة 1-3 أيام في الأسبوع)</option>
        <option value="1.55">نشاط متوسط (تمارين معتدلة 3-5 أيام في الأسبوع)</option>
        <option value="1.725">نشاط عالي (تمارين شاقة 6-7 أيام في الأسبوع)</option>
        <option value="1.9">نشاط شديد (نشاط بدني مكثف جداً أو عمل بدني شاق)</option>
      </select>
    </div>

    <!-- الهدف -->
    <div class="aim">
      <label>الهدف:</label><br />
      <div>
      <input type="radio" name="goal" value="gain" id="gain" />
      <label for="gain">زيادة وزن</label>
      </div>
      <div>
      <input type="radio" name="goal" value="maintain" id="maintain" />
      <label for="maintain">تثبيت الوزن</label>
      </div>
      <div>
      <input type="radio" name="goal" value="loss" id="loss" />
      <label for="loss">تنشيف (إنقاص وزن)</label>
      </div>
    </div>

    <button type="submit">احسب</button>
  </form>

  <div id="results"></div>

  <script>
    window.addEventListener("DOMContentLoaded", function () {
      const form = document.getElementById("macro-form");
      const resultsDiv = document.getElementById("results");

      form.addEventListener("submit", function (e) {
        e.preventDefault();

        const gender = document.querySelector("input[name='gender']:checked")?.value;
        const weight = parseFloat(document.getElementById("weight").value);
        const height = parseFloat(document.getElementById("height").value);
        const age = parseInt(document.getElementById("age").value);
        const activity = parseFloat(document.getElementById("activity").value);
        const goal = document.querySelector("input[name='goal']:checked")?.value;

        if (!gender) {
          alert("يرجى اختيار الجنس.");
          return;
        }
        if (isNaN(weight) || weight < 10 || weight > 500) {
          alert("يرجى إدخال وزن صحيح بين 10 و 500 كغ.");
          return;
        }
        if (isNaN(height) || height < 50 || height > 300) {
          alert("يرجى إدخال طول صحيح بين 50 و 300 سم.");
          return;
        }
        if (isNaN(age) || age < 5 || age > 120) {
          alert("يرجى إدخال عمر صحيح بين 5 و 120 سنة.");
          return;
        }
        if (isNaN(activity)) {
          alert("يرجى اختيار مستوى النشاط.");
          return;
        }
        if (!goal) {
          alert("يرجى اختيار الهدف.");
          return;
        }

        // حساب BMR
        let bmr;
        if (gender === "male") {
          bmr = 10 * weight + 6.25 * height - 5 * age + 5;
        } else {
          bmr = 10 * weight + 6.25 * height - 5 * age - 161;
        }

        // حساب TDEE
        const tdee = bmr * activity;

        // تعديل السعرات حسب الهدف
        let calories;
        if (goal === "gain") {
          calories = tdee + 500;
        } else if (goal === "maintain") {
          calories = tdee;
        } else if (goal === "loss") {
          calories = tdee - 500;
        }

        // حساب الماكروز:
        const proteinGrams = weight * 2;
        const proteinCalories = proteinGrams * 4;

        const fatCalories = calories * 0.25;
        const fatGrams = fatCalories / 9;

        const carbCalories = calories - (proteinCalories + fatCalories);
        const carbGrams = carbCalories / 4;

        resultsDiv.innerHTML = `
          <h2>النتائج</h2>
          <p><strong>السعرات اليومية المطلوبة:</strong> </br> ${calories.toFixed(0)} سعرة حرارية</p>
          <p><strong>البروتين:</strong> </br> ${proteinGrams.toFixed(1)} جرام (حوالي ${(proteinCalories).toFixed(0)} سعرة حرارية)</p>
          <p><strong>الدهون:</strong> </br> ${fatGrams.toFixed(1)} جرام (حوالي ${(fatCalories).toFixed(0)} سعرة حرارية)</p>
          <p><strong>الكربوهيدرات:</strong> </br> ${carbGrams.toFixed(1)} جرام (حوالي ${(carbCalories).toFixed(0)} سعرة حرارية)</p>
        `;
      });
    });
  </script>
</body>
</html>